<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" content="text/html"/>
    <title>All About Accordion Bass</title>
    <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.8/themes/ui-darkness/jquery-ui.css" type="text/css" />
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js">
    </script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.9/jquery-ui.min.js">
    </script>

    <script type="text/javascript">
      function percentStr(frac, total)
      {
        value = Math.round(100 * frac / total);
        //alert("frac: " + frac + " total: " + total);
        return value + "%";
      }

      function resizeApplet(prefWidth, prefHeight)
      {
        var elem = document.getElementById("applet_div");

        if (document.body.clientWidth > prefWidth) {
          elem.style.width = "100%";
        } else {
          elem.style.width = prefWidth + "px";
        }

        if (document.body.clientHeight > prefHeight) {
          elem.style.height = "100%";
        } else {
          elem.style.height = prefHeight + "px";
        }
      }

      function snapToSize(event, ui)
      {
        var elem = document.getElementById("applet_div");

        var threshX = 32;
        var threshY = 32 + 16 + 12;

        if ((window.innerWidth - ui.size.width) < threshX) {
          elem.style.width = "100%";
        }

        //        diff = (window.innerHeight - elem.offsetTop) - ui.size.height;
        //        if (diff < threshY) {
        //          elem.style.height = "100%";
        //          alert(aut)
        //        }
      }

      /* JQuery Inits Below */

      $(document).ready(function()
      {
        $("#tabs").tabs();
        //$(window).resize(function () { /* do something */ });
        $('#tabs').bind('tabsselect', function(event, ui){
          document.the_applet.setMode(ui.panel.id);
        });
        $("#applet_div").resizable({
          stop: function(event, ui)
          {
            snapToSize(event, ui);
          }
        });
      });
    </script>


    <style type="text/css" media="screen">
      body {
        padding: 0px 16px 16px 0px;
        background-color: #000;
        font: 16px Helvetica, Arial;
        color: #fff;
      }

      #applet_div {
        width: 100%;
        height: 100%;
        display: block;
        padding: 0px 12px 12px 0px;
        background-color: #888;
        margin-top: 12px;
      }

    </style>
  </head>
  <body>
    <div class="tabContainer">
      <div id="tabs">
        <ul>
          <li>
            <a href="#BoardOnly">Explore Bass Board</a>
          </li>
          <li>
            <a href="#ChordMatch">Best Chord for Buttons</a>
          </li>
          <li>
            <a href="#SeqPicker">Progressions & Scales</a>
          </li>		  
          <li>
            <a href="#ChordPicker">Best Buttons for Chord</a>
          </li>
          <li>
            <a href="#Default">Full Tool</a>
          </li>
        </ul>
        <div id="BoardOnly">
          Board Explanation
        </div>
        <div id="ChordMatch">
          Match Chord for Buttons
        </div>
        <div id="ChordPicker">
          Match Buttons for Chord
        </div>
        <div id="SeqPicker">
          Common Progressions
        </div>
        <div id="Default">
          Everything Else
        </div>		
      </div>
    </div>

    <div id="applet_div">
      <applet code="app.AppletMain" name="the_applet" mayscript="true" archive="../dist/AccordionBassTool.jar" width="100%" height="100%">
        <param name="mode" value="BoardOnly"/>
        <param name="resizeFunc" value="resizeApplet"/>
      </applet>
    </div>
  </body>
</html>